<modal visible="modalOpen" show-close-button="step == 'first-post'" close-on-overlay-click="false">
  <div class="modal-body">
    <form ng-show="step == 'customize'" name="form">
      <h1 translate>settings.customize_your_new_deployment</h1>

      <div ng-hide="hasName" class="form-field">
        <label class="input-label" for="site-settings-name" ng-class="{ 'success': !form.name.$invalid && form.name.$dirty, 'error' : form.name.$invalid && form.name.$dirty }" translate>settings.site_name</label>
        <input id="name" name="name" type="text" ng-model="site.name" ng-class="{'error': form.name.$invalid && form.name.$dirty}" required>
        <p ng-repeat="(error, value) in form.name.$error"
           ng-show="form.name.$dirty"
           class="alert error"
           translate="{{'settings.valid.name.' + error}}"></p>
      </div>

      <div class="divider white"></div>

      <div class="from-field">

        <label class="input-label" for="site-settings-description" translate>settings.site_description</label>
        <textarea id="site-settings-description" type="text"
                  ng-model="site.description" placeholder="{{'settings.site_description_placeholder' | translate}}"></textarea>
      </div>


      <!-- <label class="input-label">Default View</label>
           <p class="small">This is how your posts will be displayed by default. Don't worry, you can always change it later.</p>
           <div class="custom-select">
             <select name="default-view">
               <option value="1">Map</option>
               <option value="2">List</option>
               <option value="3">Graph</option>
             </select>
           </div>

           <div class="divider white"></div> -->

      <div class="divider white"></div>

      <div class="form-field">
        <label class="input-label" for="appearance-header-image" translate>settings.appearance_header_image</label>
        <p class="small" translate>settings.appearance_header_image_instructions</p>
        <file-upload file-container="fileContainer">
        </file-upload>
      </div>

      <div class="form-field">
        <button class="save" ng-click="updateConfig()" ng-disabled="form.$invalid || isUnchanged(site) || saving_config">
          <i class="fa fa-cog fa-spin" ng-show="saving_config"></i>
          <span translate>settings.continue</span>
        </button>
        <a class="cta" ng-click="skip()" ng-show="hasName" translate>settings.skip</a>
      </div>
    </form>
  </div>

  <div ng-show="step == 'first-post'" class="modal-body">
    <h3 translate>settings.add_first_post</h3>
    <div class="divider padded"></div>
    <p translate>settings.add_first_post_subtitle</p>
    <a class="button button-create" ng-href="/posts/create" ng-click="closeModal()">
      <span translate>settings.add_first_post</span>
    </a>
    <div class="divider padded"></div>
    <p translate>settings.invite_people</p>
    <a class="button button-primary" ng-href="/settings/users" ng-click="closeModal()">
      <span translate>settings.add_new_users</span>
    </a>
    <div class="divider white"></div>
  </div>
</modal>
