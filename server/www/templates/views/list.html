<div class="map-controls-wrapper list-view">
    <post-view-tabs active="list"></post-view-tabs>
</div>
<div class="panel panel-default">

    <div class="bulk-actions" ng-if="userHasBulkActionPermissions()">
        <button type="button" class="btn btn-default" id="select-all-posts"
            ng-if="!allSelectedOnCurrentPage()"
            ng-click="selectAllPosts()">
                <i class="fa  fa-trash-o"></i>
                <span translate>post.select_all</span>
        </button>
        <button type="button" class="btn btn-default" id="unselect-all-posts"
            ng-if="allSelectedOnCurrentPage()"
            ng-click="unselectAllPosts()">
                <i class="fa  fa-trash-o"></i>
                <span translate>post.unselect_all</span>
        </button>
        <button type="button" class="btn" id="delete-selected-posts"
            ng-disabled="selectedItems.length <= 0"
            ng-class="{ 'btn-default': !selectedPostIds.length, 'btn-danger': selectedPostIds.length }"
            ng-click="deleteSelectedPosts()">
                <i class="fa  fa-trash-o"></i>
                <span translate>post.post_actions.delete</span>
        </button>
    </div>

    <ul class="list-group">
        <post-preview
            ng-repeat="post in posts"
            can-select="userHasBulkActionPermissions()"
            selection-model
            selection-model-type="checkbox"
            selection-model-mode="multiple-additive"
            selection-model-selected-items="selectedItems"
            selection-model-cleanup-strategy="deselect"
            post="post"
        >
        </post-preview>
    </ul>

    <div class="panel-footer">
        <pagination ng-model="currentPage" items-per-page="itemsPerPage" total-items="totalItems" ng-change="pageChanged()" max-size="5" boundary-links="true" rotate="false"></pagination>

        <div class="dropdown btn-group pull-right filter-count flip" role="group" dropdown>
            <button class="btn dropdown-toggle btn-default" type="button" aria-expanded="false" dropdown-toggle>
                <span translate translate-values="{ count: itemsPerPage }">post.per_page</span>
                <i class="fa fa-angle-down"></i>
            </button>
            <ul class="dropdown-menu" role="menu">
                <li role="presentation" ng-repeat="count in itemsPerPageOptions">
                    <a href="javascript:;" ng-click="itemsPerPageChanged(count)">
                        <i class="fa" ng-class="{ 'fa-circle-o': (itemsPerPage !== count), 'fa-dot-circle-o': (itemsPerPage === count) }"></i>
                        {{count}}
                    </a>
                </li>
            </ul>
        </div>
    </div>

</div>
