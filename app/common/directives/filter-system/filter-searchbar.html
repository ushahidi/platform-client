<div class="searchbar-input" dropdown auto-close="outsideClick">
    <!-- Search input -->
    <div class="form-field">
        <label class="hidden" translate="toolbar.searchbar.search_entity">Search</label>
        <div class="input-with-icon">
            <input
                name="q"
                type="search"
                autocomplete="off"
                placeholder="{{ 'toolbar.searchbar.search_entity' | translate:{ entity: placeholderText } }}"
                ng-model="model.q"
                ng-focus="showSearchResults()"
                ng-keyup="detectSubmit($event)"
                ng-value="model.q"
            >
            <svg class="iconic" ng-show="!form.q.$viewValue.length">
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/img/iconic-sprite.svg#magnifying-glass"></use>
            </svg>
            <svg class="iconic" ng-click="onClear()" ng-show="form.q.$viewValue.length">
                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/img/iconic-sprite.svg#circle-x"></use>
            </svg>
        </div>
    </div>


    <div class="searchbar-results dropdown-menu" ng-class="{active: (searchResultsVisible && form.q.$viewValue.length > 0) }">
        <div class="form-field">
            <button class="button-plain" type="submit" ng-click="applyFilters()">
                <span class="button-label">
                    <span translate-values="{ entity: entityType }" translate>
                        toolbar.searchbar.search_all_entities_for
                    </span>
                    "<em>{{ form.q.$viewValue }}</em>"
                </span>
            </button>
        </div>
    </div>
</div>
