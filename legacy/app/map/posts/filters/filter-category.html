<fieldset ng-show="categories.length" ng-model-options="{ updateOn: 'default' }">
    <label translate="nav.categories">Categories</label>
    <div class="form-field checkbox" ng-repeat="(index, category) in categories" ng-if="category.parent_id === null">
      <label>
          <input
              type="checkbox"
              checklist-value="category.id"
              value="category.id"
              checklist-model="selectedCategories"
          >
          <bdi ng-if="category.translations[userLanguage].tag">{{category.translations[userLanguage].tag}}</bdi>
          <bdi ng-if="!category.translations[userLanguage].tag">{{category.tag}}</bdi>

      </label>
      <div
          class="form-field checkbox"
          ng-repeat="child in category.children"
        >
          <label>
          <input
            type="checkbox"
            checklist-model="selectedCategories"
            checklist-value="child.id"
            value="child.id"
            ng-selected="selectedCategories.indexOf(category.id) >-1"
          >
          <bdi ng-if="child.translations[userLanguage].name ">{{child.translations[userLanguage].tag}}</bdi>
          <bdi ng-if="!child.translations[userLanguage].name ">{{child.tag}}</bdi>
        </label>
      </div>
    </div>
</fieldset>
